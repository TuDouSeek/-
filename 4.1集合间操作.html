<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //集合间通常有入下操作
            //并集：对于给定的两个集合，返回一个包含两个集合中所有元素的新集合；
            //交集：对于给定的两个集合，返回一个包含两个集合中共有元素的新集合；
            //差集：对于给定的两个集合，返回一个包含所有存在于第一个集合且不存在于第二个集合的元素的新集
            //子集：验证一个给定集合是否是另一个集合的子集；
        
            function Set() {
                //属性
                this.items = {}

                
                //方法

                //has方法判断当中是否有这个元素
                Set.prototype.has = value =>{
                    return this.items.hasOwnProperty(value)
                }
                    //add放法
                Set.prototype.add = value => {
                    //判断集合中是否包含当前元素
                    if (this.has(value)) {
                        return false
                    }
                    //向一个集合添加一个新的项
                    this.items[value] = value   //表示这个键和值都是这个
                    return true
                }
                
                //remove方法
                Set.prototype.remove = function(value){
                    //1,判断集合中是否包含当前元素
                    if(!this.has(value)){
                        return false
                    }
                    delete this.items[value]
                    return true
                }
                //clear方法
                Set.prototype.clear = function () {
                    this.items = {}

                }
                //size方法
                Set.prototype.size = () =>{
                    return Object.keys(this.items).length
                }
                //获取集合中所有的值
                
                Set.prototype.values = function() { //这儿不能使用箭头函数
                    return Object.keys(this.items)
                }

                //集合间的操作
                //并集
                Set.prototype.union = function (otherSet){
                    
                    //1,创建新的集合
                    var unionSet = new Set()

                    var values = this.values()

                    //2,将A集合中的所有元素添加到新集合中
                    for (let i = 0; i < values.length; i++) {
                       unionSet.add(values[i])
                    }

                    //3,取出B集合中的元素，判断是否需要添加到新集合
                    values = otherSet.values()
                    for (let i = 0; i < values.length; i++) {
                        unionSet.add(values[i])
                        
                    }
                    return unionSet
                }

            }
            
        //创建两个集合
            var setA = new Set()
            setA.add("2")
            setA.add("3")
            setA.add("CCC")
            setA.add("DDD")
            var setB = new Set()
            setB.add("1")
            setB.add("2")
            setB.add("3")
            setB.add("5")
            console.log(setA.values())
            console.log(setB.values())
          
        //     //求两个集合的并集
            unionSet = setA.union(setB)
            alert(unionSet.values())
           console.log(setA.values());
    </script>
</body>
</html>
